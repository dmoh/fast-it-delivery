<!-- <script src="../app.component.ts"></script> -->
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="primary"></ion-menu-button>
    </ion-buttons>
    <ion-title style="font-size: 90%" class="ion-text-center">
      PROFIL
    </ion-title>
    <ion-buttons class="ion-margin-right" slot="end">
      <ion-icon slot="start" color="primary" style="font-size: 25px" 
      ios="power-outline" md="power-sharp" (click)="onLogout()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="userInfo">
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-item lines="none">
          <h4>Informations détaillées</h4>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Nom</ion-label>
          <ion-input [(ngModel)]="userInfo.lastname"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Prénom</ion-label>
          <ion-input [(ngModel)]="userInfo.firstname"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Email</ion-label>
          <ion-input [(ngModel)]="userInfo.email"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Téléphone</ion-label>
          <ion-input [(ngModel)]="userInfo.phone"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Rue</ion-label>
            <ion-input [(ngModel)]="userInfo.addresses[0].street" type="street"></ion-input>
          </ion-item>
        </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Ville</ion-label>
          <ion-input [(ngModel)]="userInfo.addresses[0].city" type="City"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Code Postale</ion-label>
          <ion-input [(ngModel)]="userInfo.addresses[0].zipCode" type="Zipcode"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Kbis</ion-label>
          <ion-input [(ngModel)]="userInfo.siret"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <!-- 
      <ion-row>
        <ion-col>
          <ion-text class="ion-color-danger" color="danger" *ngIf="error && error.length > 3">{{ error }}</ion-text>
        </ion-col>
      </ion-row>
    -->

    <ion-row>
      <ion-col>
        <ion-button (click)="onSaveDelivererInfo()" size="block">Sauvegarder</ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item lines="none">
          <h4>Modification du mot de passe</h4>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label position="floating">Mot de passe actuel</ion-label>
          <ion-input [(ngModel)]="password" type="password"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="password != ''">
      <ion-col>
        <ion-item>
          <ion-label position="floating">Nouveau mot de passe</ion-label>
          <ion-input [(ngModel)]="newPassword" type="password"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="password != ''">
      <ion-col>
        <ion-item>
          <ion-label position="floating">Confirmation du mot de passe</ion-label>
          <ion-input [(ngModel)]="newPassword" type="password"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-button (click)="onChangePassword()" size="block">Modifier</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>